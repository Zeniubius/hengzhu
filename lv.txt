关于lv写的内容
1.声明我是混子哈哈
2.从新建的router开始四个路由
第一个 用户点击使用预下单路由。会把支付的连接返回 并且在我新建那个表（cabinet_order_record）生成一个预下单记录,填写not null的字段
第二个 微信返回支付结果  这个要给微信同步响应 所以建议业务做成异步的,这时候补充订单信息,并且插入使用记录表cabinet_use_log,
机器的状态有关通信我没搞,但是业务上是要在这一步完成的。
第三个 这个对用户其实透明,属于用户扫码获得openid的中间 这里的state可以利用起来,map[state]data 把自己这个会话需要的参数存在内存
第四个 得到openid可以为所欲为


说一个问题: 不知道你们业务对用户在同一时间段使用的柜子是怎么限制的,不同的限制业务处理得改
